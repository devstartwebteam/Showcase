@{
    ViewBag.Title = "Posts";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<!-- /ko -->
<div class="row">
    <div class="col-md-12">
        <div class="panel panel-default">

            <div class="panel-heading">
                <h2 class="panel-title">Add Post</h2>
            </div>

            <div class="panel-body">
                <form class="form-horizontal" data-bind="submit: addPost">
                    <div class="form-group" data-bind="with: newPost">
                        <label for="inputName" class="col-sm-2 control-label">Post Name</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="inputName" data-bind="value:PostName" />
                        </div>

                        <label for="inputContent" class="col-sm-2 control-label">Post Content</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="inputContent" data-bind="value:PostContent" />
                        </div>

                        <div class="form-group s-tiny-group row">
                            <textarea id="ShowcaseEditor" name="ShowcaseEditor" class="s-fields form-control" data-bind="value:PostContent"></textarea>
                        </div>

                        <label for="inputViews" class="col-sm-2 control-label">Views</label>
                        <div class="col-sm-10">
                            <input type="number" step="any" class="form-control" id="inputViews" data-bind="value:ViewCount" />
                        </div>

                        <label for="inputAuthor" class="col-sm-2 control-label">Author</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="inputAuthor" data-bind="value:AuthorName">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-default">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2 class="panel-title">Posts</h2>
            </div>
            <div class="panel-body">
                <ul class="list-unstyled" data-bind="foreach: posts">
                    <li>
                        <strong><span data-bind="text: AuthorName"></span></strong>: <span data-bind="text: PostName"></span>
                        <small><a href="#" data-bind="click: $parent.getPostDetail">Details</a></small>
                    </li>
                </ul>
            </div>
        </div>
        <div class="alert alert-danger" data-bind="visible: error"><p data-bind="text: error"></p></div>
    </div>
    <!-- ko if:detail() -->
    <div class="col-md-6">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h2 class="panel-title">Detail</h2>
            </div>
            <table class="table">
                <tr><td>Post Name:</td><td data-bind="text: detail().PostName"></td></tr>
                <tr><td>Post Content:</td><td data-bind="text: detail().PostContent"></td></tr>
                <tr><td>Post Author</td><td data-bind="text: detail().AuthorName"></td></tr>
                <tr><td>Post Views</td><td data-bind="text: detail().ViewCount"></td></tr>
            </table>
        </div>
    </div>
    </div>